name: 'PIPELINE REACT (VERCEL)'

pool:
  vmImage: 'ubuntu-latest'

stages:
- stage: build
  jobs:
  - job:
    displayName: Iniciando dependencias
    steps:
    - task: NodeTool@0
      displayName: Instalando Node
      inputs:
        versionSpec: '16.x'

    - script: npm install
      displayName: Instalando pacotes
      
    - script: npm run build
      displayName: Gerando build

    - script: npm install -g vercel 
      displayName: Instalando Vercel
    
    - script: vercel --token AKJ2m1t2qARHp4FE9Sv7a8Qq --prod
      displayName: Deploy para o Vercel


